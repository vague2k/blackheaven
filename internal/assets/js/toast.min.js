(()=>{(function(){if(typeof window.toastHandler>"u"){let a=function(e){if(window.toasts.has(e))return;let s=parseInt(e.dataset.duration||"0"),n=e.querySelector("[data-toast-progress]"),d=e.querySelector("[data-toast-dismiss]"),t={timer:null,remaining:s,startTime:Date.now(),progress:n,paused:!1};window.toasts.set(e,t);function u(){clearTimeout(t.timer),e.classList.remove("toast-enter-active"),e.classList.add("toast-leave-active"),e.addEventListener("transitionend",()=>{e.remove(),window.toasts.delete(e)},{once:!0})}function m(i){i<=0||(clearTimeout(t.timer),t.startTime=Date.now(),t.remaining=i,t.paused=!1,t.timer=setTimeout(u,i),t.progress&&(t.progress.style.transition=`width ${i}ms linear`,t.progress.offsetWidth,t.progress.style.width="0%"))}function c(){if(!(t.paused||t.remaining<=0)&&(clearTimeout(t.timer),t.remaining-=Date.now()-t.startTime,t.paused=!0,t.progress)){let i=window.getComputedStyle(t.progress).width;t.progress.style.transition="none",t.progress.style.width=i}}function f(){!t.paused||t.remaining<=0||m(t.remaining)}s>0&&(e.addEventListener("mouseenter",c),e.addEventListener("mouseleave",f)),d&&d.addEventListener("click",u),setTimeout(()=>{e.classList.add("toast-enter-active"),t.progress&&(t.progress.style.width="100%"),m(s)},50)},r=function(e=document){let s=[];e instanceof Element&&e.matches("[data-toast]")&&(window.toasts.has(e)||s.push(e)),e&&typeof e.querySelectorAll=="function"&&e.querySelectorAll("[data-toast]").forEach(n=>{window.toasts.has(n)||s.push(n)}),s.forEach(a)};var l=a,p=r;window.toastHandler=!0,window.toasts=new Map;let o=e=>{let s;e.type==="htmx:afterSwap"&&(s=e.detail.elt),e.type==="htmx:oobAfterSwap"&&(s=e.detail.target),s instanceof Element&&requestAnimationFrame(()=>r(s))};document.addEventListener("DOMContentLoaded",()=>r()),document.body.addEventListener("htmx:afterSwap",o),document.body.addEventListener("htmx:oobAfterSwap",o)}})();})();
